# Tasks

## 测试准备

- [ ] 准备测试环境，确保扩展已正确安装并可在侧边栏打开
- [ ] 验证 AI 服务配置正确（API Key、端点等）

## 阶段 1: 内容提取测试

- [ ] **普通文章页面测试**
  - 打开新闻网站（如 BBC、CNN 中文版）
  - 点击"总结一下"按钮，验证内容提取和总结效果
  - 预期：能正确提取文章主体，排除导航和广告

- [ ] **博客/长文页面测试**
  - 打开技术博客（如 Medium、知乎专栏文章）
  - 发送"总结这篇文章的要点"
  - 预期：能提取完整内容并生成准确摘要

- [ ] **SPA 单页应用测试**
  - 打开 React/Vue 构建的网站（如 GitHub 代码页面）
  - 发送"这个页面的内容是什么？"
  - 预期：能正确提取动态渲染的内容

- [ ] **复杂布局页面测试**
  - 打开电商网站产品页（如淘宝、京东）
  - 发送"这个商品的主要信息是什么？"
  - 预期：能提取商品标题、价格、描述等核心信息

## 阶段 2: 边界情况测试

- [ ] **受限页面测试**
  - 打开 chrome://extensions 页面
  - 尝试提取内容
  - 预期：系统应提示"无法获取该页面内容"

- [ ] **空白页面测试**
  - 打开 about:blank 或新标签页
  - 尝试发送消息
  - 预期：系统应正确处理无内容情况

- [ ] **本地文件测试**
  - 打开本地 HTML 文件 (file://)
  - 尝试提取内容
  - 预期：根据权限设置，可能成功或提示受限

## 阶段 3: 多 Tab 上下文测试

- [ ] **多页面整合测试**
  - 打开 2-3 个不同的文章页面
  - 将它们都添加到对话上下文
  - 发送"比较这几篇文章的观点"
  - 预期：AI 能综合分析多个页面内容

- [ ] **Tab 切换保持测试**
  - 在 Tab A 中进行对话
  - 切换到 Tab B，开始新对话
  - 切换回 Tab A
  - 预期：Tab A 的对话历史完整保留

## 阶段 4: 特殊内容测试

- [ ] **代码页面测试**
  - 打开 GitHub 代码文件页面
  - 发送"解释这段代码的作用"
  - 预期：能提取代码内容并正确分析

- [ ] **表格数据测试**
  - 打开包含数据表格的页面
  - 发送"总结表格中的数据"
  - 预期：能识别表格结构并提取信息

- [ ] **多语言页面测试**
  - 打开中英文混合的页面
  - 发送总结请求
  - 预期：能正确处理多语言内容

## 阶段 5: 错误处理测试

- [ ] **网络超时测试**
  - 在弱网环境下发送消息
  - 预期：应有适当的超时处理和错误提示

- [ ] **大页面测试**
  - 打开内容非常长的页面（如长篇小说章节）
  - 发送总结请求
  - 预期：能处理或适当截断过长内容

## 验证标准

- [ ] 所有测试用例通过
- [ ] 无崩溃或未处理的错误
- [ ] 用户体验流畅，响应时间合理
